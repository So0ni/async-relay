# TCP/UDP Relay Configuration

services:
  # Web proxy example - forwards both TCP and UDP on port 8080
  - name: "web-proxy"
    protocol: "both"     # tcp, udp, or both (default: both)
    listen:
      address: "::"      # IPv6 address (also accepts IPv4)
      port: 8080
    backends:
      - "example.com:80"           # Domain name (resolved every hour)
      - "192.168.1.10:80"          # IPv4 address
      - "[2001:db8::1]:80"         # IPv6 address
      - "backup.example.com:80"    # Backup domain

  # DNS forwarder example - UDP only
  - name: "dns-forward"
    protocol: "udp"      # Only forward UDP traffic
    listen:
      address: "0.0.0.0"  # IPv4 wildcard
      port: 53
    backends:
      - "dns.google:53"
      - "8.8.8.8:53"
      - "8.8.4.4:53"

  # HTTPS proxy example - TCP only
  - name: "https-proxy"
    protocol: "tcp"      # Only forward TCP traffic
    listen:
      address: "::"
      port: 8443
    backends:
      - "secure.example.com:443"
      - "backup.example.com:443"
